<body class="align">

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <a class="navbar-brand" href="/api">Shanti</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
  <span class="navbar-toggler-icon"></span>
  </button>
</nav>

<div class="title">
  <h1>Productos</h1>

  <a href="/api/carts">
    <label for="carts">Mira los carritos actuales</label>
  </a>

   <a href="/api/">Home</a>
</div >

<br>
<br>
<form id="productSearch">
  <div class="form-group">
    <label>Buscar producto por nombre</label>
    <input id="searchTitle" class="form-control" type="text">
  </div>
  <button class="btn btn-primary" type="submit">Buscar</button>
</form>

<div class="list">
  <h3 id=""></h3>
  <table class="table">
    <thead>
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Category</th>
        <th>Price</th>
        <th>Stock</th>
        <th>ID de producto</th>
        <th>Owner</th>
        <th>Acción</th>
      </tr>
    </thead>
    <tbody>
      {{#each products.docs}}
      <tr>
        <td>{{this.title}}</td>
        <td>{{this.description}}</td>
        <td>{{this.category}}</td>
        <td>${{this.price}}</td>
        <td>{{this.stock}}</td>
        <td id="_id">{{this._id}}</td>
        <td>{{this.owner}}</td>
        <td><button id="deleteProduct" class="btn btn-danger" data-id={{_id}}>Eliminar</button></td>
      </tr>
      {{/each}}
    </tbody>
  </table>
</div>

<div class="pagination">
  <a class="btn btn-primary" href="/api/products?page={{products.prevPage}}">Prev</a>
  <a class="btn btn-primary" href="/api/products?page={{products.nextPage}}">Next</a>
  <h5>{{products.page}} / {{products.totalPages}}</h5>
</div>

<div class="uploadProducts">
  <div id="modal">
    <h3 class="m-3">Agregar producto</h3>
    <form id="nuevoProducto" class="row p-3" action="/api/products" method="POST">
      <div class="form-group">
        <label for="title">Nombre:</label>
        <input class="form-control m-1" type="text" name="title" placeholder="Nombre">
      </div>
      <div class="form-group">
        <label for="description">Descripción:</label>
        <input class="form-control m-1" type="text" name="description" placeholder="Descripción">
      </div>
      <div class="form-group">
        <label for="category">Categoría:</label>
        <input class="form-control m-1" type="text" name="category" placeholder="Categoría">
      </div>
      <div class="form-group">
        <label for="price">Precio:</label>
        <input class="form-control m-1" type="text" name="price" placeholder="Precio">
      </div>
      <div class="form-group">
        <label for="thumbnail">Elige una imagen:</label>
        <input class="form-control-file m-1" type="file" name="thumbnail">
      </div>
      <div class="form-group">
        <label for="code">Código:</label>
        <input class="form-control m-1" type="text" name="code" placeholder="Código">
      </div>
      <div class="form-group">
        <label for="stock">Stock:</label>
        <input class="form-control m-1" type="text" name="stock" placeholder="Stock">
      </div>
      <button class="btn btn-primary" type="submit">Enviar</button>
    </form>
  </div>
</div>
<!-- Footer -->
<footer class="bg-dark text-light text-center py-3 mt-auto">
  <p>©Shanti 2023. Todos los derechos reservados.</p>
</footer>
</body>

<script type="module" src="/products.js"></script>
